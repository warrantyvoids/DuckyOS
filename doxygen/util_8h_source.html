<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>VOS: src/sys/arch/i686/util.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">VOS
   &#160;<span id="projectnumber">0.1.5</span>
   </div>
   <div id="projectbrief">A small JITted OS</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('util_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">src/sys/arch/i686/util.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="util_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef __ARCH_i386_UTIL_H</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define __ARCH_i386_UTIL_H</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &lt;stdint.h&gt;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &lt;stdbool.h&gt;</span>
<a name="l00006"></a>00006 
<a name="l00007"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730">00007</a> <span class="keyword">enum</span> <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730">cpuid_feature_t</a> {
<a name="l00008"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a9ec1c52e0b19a9532baa8ce4f80add58">00008</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a9ec1c52e0b19a9532baa8ce4f80add58">CPUID_FEAT_ECX_SSE3</a> = 0,
<a name="l00009"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730aaa62b2a02d3829ace891eac7d1d8f746">00009</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730aaa62b2a02d3829ace891eac7d1d8f746">CPUID_FEAT_ECX_PCLMUL</a>,
<a name="l00010"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730aa84b899e336daf2d90cdab723a24d544">00010</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730aa84b899e336daf2d90cdab723a24d544">CPUID_FEAT_ECX_DTES64</a>,
<a name="l00011"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a6ffa8cdde16327f47b6a49aa5d676ee5">00011</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a6ffa8cdde16327f47b6a49aa5d676ee5">CPUID_FEAT_ECX_MONITOR</a>,
<a name="l00012"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a1be0388c15db5d77facac96d2efddc4f">00012</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a1be0388c15db5d77facac96d2efddc4f">CPUID_FEAT_ECX_DS_CPL</a>,
<a name="l00013"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a714125fa31dd21e46e385b8dc340214f">00013</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a714125fa31dd21e46e385b8dc340214f">CPUID_FEAT_ECX_VMX</a>,
<a name="l00014"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ab6deac61a50e0367b5475869e240ac06">00014</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ab6deac61a50e0367b5475869e240ac06">CPUID_FEAT_ECX_SMX</a>,
<a name="l00015"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a150b3abab983011be08fc459b7b9b700">00015</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a150b3abab983011be08fc459b7b9b700">CPUID_FEAT_ECX_EST</a>,
<a name="l00016"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730acf4aa3ed6f11fc17b684281787f60949">00016</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730acf4aa3ed6f11fc17b684281787f60949">CPUID_FEAT_ECX_TM2</a>,
<a name="l00017"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a5957647e74d0eaea90bdb316e578e579">00017</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a5957647e74d0eaea90bdb316e578e579">CPUID_FEAT_ECX_SSSE3</a>,
<a name="l00018"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730afb8bce29e8cfd07070b596f3912f608b">00018</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730afb8bce29e8cfd07070b596f3912f608b">CPUID_FEAT_ECX_CID</a>,
<a name="l00019"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a9c1fd66e736f5d3d344e919b57483336">00019</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a9c1fd66e736f5d3d344e919b57483336">CPUID_FEAT_ECX_FMA</a> = 12,
<a name="l00020"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ad30be7d0797e3aad723013154aa733d2">00020</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ad30be7d0797e3aad723013154aa733d2">CPUID_FEAT_ECX_CX16</a>,
<a name="l00021"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a41b9888036ae940d974a544bed3f19c4">00021</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a41b9888036ae940d974a544bed3f19c4">CPUID_FEAT_ECX_ETPRD</a>,
<a name="l00022"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a93ddbafd38f7a260286998ae9ddc8cad">00022</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a93ddbafd38f7a260286998ae9ddc8cad">CPUID_FEAT_ECX_PDCM</a>,
<a name="l00023"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a2b75568ac85063fb0a96418fa0bfb29d">00023</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a2b75568ac85063fb0a96418fa0bfb29d">CPUID_FEAT_ECX_DCA</a> = 18,
<a name="l00024"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a63ddf183b299d2fc7686dac65e1a555a">00024</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a63ddf183b299d2fc7686dac65e1a555a">CPUID_FEAT_ECX_SSE4_1</a>,
<a name="l00025"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ac35d5255d2ef4728b73348db7087c1c7">00025</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ac35d5255d2ef4728b73348db7087c1c7">CPUID_FEAT_ECX_SSE4_2</a>,
<a name="l00026"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ac1613126920afb91d3d177c21e4f3dfe">00026</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ac1613126920afb91d3d177c21e4f3dfe">CPUID_FEAT_ECX_x2APIC</a>,
<a name="l00027"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ac67b97fbc629b276f5c13dbf88c4f709">00027</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ac67b97fbc629b276f5c13dbf88c4f709">CPUID_FEAT_ECX_MOVBE</a>,
<a name="l00028"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a71e5348902e26fc6de23f4f5bd384f74">00028</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a71e5348902e26fc6de23f4f5bd384f74">CPUID_FEAT_ECX_POPCNT</a>,
<a name="l00029"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a8a62b9dd23a47562237c0370b8ed87a0">00029</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a8a62b9dd23a47562237c0370b8ed87a0">CPUID_FEAT_ECX_AES</a> = 25,
<a name="l00030"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a9c28569cd999d6cc2e9e0005b4fa6c9d">00030</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a9c28569cd999d6cc2e9e0005b4fa6c9d">CPUID_FEAT_ECX_XSAVE</a>,
<a name="l00031"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a7519a55f83cd663fa7f7dbf4c8b7c94a">00031</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a7519a55f83cd663fa7f7dbf4c8b7c94a">CPUID_FEAT_ECX_OSXAVE</a>,
<a name="l00032"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a749d00516968a015a4d8e15235bf07e6">00032</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a749d00516968a015a4d8e15235bf07e6">CPUID_FEAT_ECX_AVX</a>, 
<a name="l00033"></a>00033 
<a name="l00034"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ac07d767d714117e48c453b752f799610">00034</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ac07d767d714117e48c453b752f799610">CPUID_FEAT_EDX_FPU</a> = 32,
<a name="l00035"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a5d32075fb1cfd95910c1eff1f0f3d056">00035</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a5d32075fb1cfd95910c1eff1f0f3d056">CPUID_FEAT_EDX_VME</a>,
<a name="l00036"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a69236c580bf3feddd4a57b3072a7b521">00036</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a69236c580bf3feddd4a57b3072a7b521">CPUID_FEAT_EDX_DE</a>,
<a name="l00037"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a59bc828bc43010ac71793759e8011335">00037</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a59bc828bc43010ac71793759e8011335">CPUID_FEAT_EDX_PSE</a>,
<a name="l00038"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a2ae56cfb5a846822cc095b79bf74de10">00038</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a2ae56cfb5a846822cc095b79bf74de10">CPUID_FEAT_EDX_TSC</a>,
<a name="l00039"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a6b8beb5908a936d7f00c848df0abe061">00039</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a6b8beb5908a936d7f00c848df0abe061">CPUID_FEAT_EDX_MSR</a>,
<a name="l00040"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a3a97eae0ba980bb5d9d9b10138d70aca">00040</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a3a97eae0ba980bb5d9d9b10138d70aca">CPUID_FEAT_EDX_PAE</a>,
<a name="l00041"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ade0ff2978a54bc0c96dd71a7a7177d0f">00041</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ade0ff2978a54bc0c96dd71a7a7177d0f">CPUID_FEAT_EDX_MCE</a>,
<a name="l00042"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a431ed484886fa29e4a7d16ab99523350">00042</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a431ed484886fa29e4a7d16ab99523350">CPUID_FEAT_EDX_CX8</a>,
<a name="l00043"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a7fa4170aae12fbc1642012ccba9855b0">00043</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a7fa4170aae12fbc1642012ccba9855b0">CPUID_FEAT_EDX_APIC</a>,
<a name="l00044"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a674ec4ce4025c0f520a30d6e461ed47d">00044</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a674ec4ce4025c0f520a30d6e461ed47d">CPUID_FEAT_EDX_SEP</a> = 32+11,
<a name="l00045"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a5b30fec963effd4a0d2c8447028d0215">00045</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a5b30fec963effd4a0d2c8447028d0215">CPUID_FEAT_EDX_MTRR</a>,
<a name="l00046"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730afb0d4b99b2d0e98089be4ede2162eddf">00046</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730afb0d4b99b2d0e98089be4ede2162eddf">CPUID_FEAT_EDX_PGE</a>,
<a name="l00047"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ac9e7b8e9c0e19bfe48a4bcd749aaaa4e">00047</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ac9e7b8e9c0e19bfe48a4bcd749aaaa4e">CPUID_FEAT_EDX_MCA</a>,
<a name="l00048"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a9c90442380d5125737f106c44afce64f">00048</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a9c90442380d5125737f106c44afce64f">CPUID_FEAT_EDX_CMOV</a>,
<a name="l00049"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ac0e40c6f57efc979712596770aab9f8a">00049</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ac0e40c6f57efc979712596770aab9f8a">CPUID_FEAT_EDX_PAT</a>,
<a name="l00050"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a9718e0367b529df69ee7c9b7fd998b83">00050</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a9718e0367b529df69ee7c9b7fd998b83">CPUID_FEAT_EDX_PSE36</a>,
<a name="l00051"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730aac23260b012a04ea25d113844c631d44">00051</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730aac23260b012a04ea25d113844c631d44">CPUID_FEAT_EDX_PSN</a>,
<a name="l00052"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a80d53b7ac629e80940d02e38ad48414b">00052</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a80d53b7ac629e80940d02e38ad48414b">CPUID_FEAT_EDX_CLF</a>,
<a name="l00053"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a43682d6fe8589b4809e2c49bb55c1558">00053</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a43682d6fe8589b4809e2c49bb55c1558">CPUID_FEAT_EDX_DTES</a> = 32+21,
<a name="l00054"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730aec94ddf1825bdde32627d9149beec9dc">00054</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730aec94ddf1825bdde32627d9149beec9dc">CPUID_FEAT_EDX_ACPI</a>,
<a name="l00055"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ac8185eb6b47dd2ef97a44cbb759f8e52">00055</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ac8185eb6b47dd2ef97a44cbb759f8e52">CPUID_FEAT_EDX_MMX</a>,
<a name="l00056"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a577b773d21178552d9d768da936479f6">00056</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a577b773d21178552d9d768da936479f6">CPUID_FEAT_EDX_FXSR</a>,
<a name="l00057"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ab362f49f025f651238f57dcf8d5d281f">00057</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ab362f49f025f651238f57dcf8d5d281f">CPUID_FEAT_EDX_SSE</a>,
<a name="l00058"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ab64ff1599bf88ab91782ee4f9152f3ce">00058</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ab64ff1599bf88ab91782ee4f9152f3ce">CPUID_FEAT_EDX_SSE2</a>,
<a name="l00059"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730aec6daa5351cf0b927f4fcbad3f0cfef1">00059</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730aec6daa5351cf0b927f4fcbad3f0cfef1">CPUID_FEAT_EDX_SS</a>,
<a name="l00060"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ac91c9cfc9f3165b25b10030ef82c491f">00060</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ac91c9cfc9f3165b25b10030ef82c491f">CPUID_FEAT_EDX_HTT</a>,
<a name="l00061"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a5468113d56e2d06eb0e6d5c4f74af589">00061</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a5468113d56e2d06eb0e6d5c4f74af589">CPUID_FEAT_EDX_TM1</a>,
<a name="l00062"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a12ab79d3456f748b49340fa00e60c160">00062</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730a12ab79d3456f748b49340fa00e60c160">CPUID_FEAT_EDX_IA64</a>,
<a name="l00063"></a><a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ae6cfc957052841ae578ddfb390f00a1a">00063</a>   <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730ae6cfc957052841ae578ddfb390f00a1a">CPUID_FEAT_EDX_PBE</a>,
<a name="l00064"></a>00064 
<a name="l00065"></a>00065 };
<a name="l00066"></a>00066 
<a name="l00067"></a>00067 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> wrmsr(uint32_t addr, uint64_t val) {
<a name="l00068"></a>00068   uint32_t eax = val &amp; 0xFFFFFFFF;
<a name="l00069"></a>00069   uint32_t edx = val &gt;&gt; 32;
<a name="l00070"></a>00070   <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;wrmsr&quot;</span> : : <span class="stringliteral">&quot;a&quot;</span>(eax), <span class="stringliteral">&quot;d&quot;</span>(edx), <span class="stringliteral">&quot;c&quot;</span>(addr));
<a name="l00071"></a>00071 }
<a name="l00072"></a>00072 
<a name="l00073"></a>00073 <span class="keyword">static</span> <span class="keyword">inline</span> uint64_t rdmsr(uint32_t addr) {
<a name="l00074"></a>00074   uint32_t eax, edx;
<a name="l00075"></a>00075   uint64_t retVal;
<a name="l00076"></a>00076   <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;rdmsr&quot;</span> : <span class="stringliteral">&quot;=a&quot;</span>(eax), <span class="stringliteral">&quot;=d&quot;</span>(edx) : <span class="stringliteral">&quot;c&quot;</span>(addr));
<a name="l00077"></a>00077   <span class="keywordflow">return</span> retVal = ((uint64_t)edx &lt;&lt; 32) | (eax);
<a name="l00078"></a>00078 }
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> cpuid_vendor(<span class="keywordtype">char</span> vendor[12]) {
<a name="l00081"></a>00081   uint32_t * vstr = (uint32_t*)vendor;
<a name="l00082"></a>00082   <span class="keyword">asm</span> <span class="keyword">volatile</span> (<span class="stringliteral">&quot;cpuid&quot;</span> : <span class="stringliteral">&quot;=b&quot;</span>(vstr[0]), <span class="stringliteral">&quot;=c&quot;</span>(vstr[2]), <span class="stringliteral">&quot;=d&quot;</span>(vstr[1]) : <span class="stringliteral">&quot;a&quot;</span>( 0 ) : <span class="stringliteral">&quot;%eax&quot;</span> );
<a name="l00083"></a>00083 }
<a name="l00084"></a>00084 
<a name="l00085"></a>00085 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> cpuid_test_feature( <span class="keyword">enum</span> <a class="code" href="util_8h.html#a2a903dcc70d27a518a4e8632ee296730">cpuid_feature_t</a> feat ) {
<a name="l00086"></a>00086   uint32_t res;
<a name="l00087"></a>00087   uint32_t bitfield;
<a name="l00088"></a>00088   <span class="keywordflow">if</span> (feat &gt;= 32) {
<a name="l00089"></a>00089     bitfield = 1 &lt;&lt; (feat - 32);
<a name="l00090"></a>00090     <span class="keyword">asm</span> <span class="keyword">volatile</span> (<span class="stringliteral">&quot;cpuid&quot;</span> : <span class="stringliteral">&quot;=d&quot;</span>(res) : <span class="stringliteral">&quot;a&quot;</span>(1) : <span class="stringliteral">&quot;eax&quot;</span>,<span class="stringliteral">&quot;ebx&quot;</span>,<span class="stringliteral">&quot;ecx&quot;</span>);
<a name="l00091"></a>00091   } <span class="keywordflow">else</span> {
<a name="l00092"></a>00092     bitfield = 1 &lt;&lt; feat;
<a name="l00093"></a>00093     <span class="keyword">asm</span> <span class="keyword">volatile</span> (<span class="stringliteral">&quot;cpuid&quot;</span> : <span class="stringliteral">&quot;=c&quot;</span>(res) : <span class="stringliteral">&quot;a&quot;</span>(1) : <span class="stringliteral">&quot;eax&quot;</span>,<span class="stringliteral">&quot;ebx&quot;</span>,<span class="stringliteral">&quot;edx&quot;</span>);
<a name="l00094"></a>00094   }
<a name="l00095"></a>00095   <span class="keywordflow">return</span> ((res &amp; bitfield) == bitfield);
<a name="l00096"></a>00096 }
<a name="l00097"></a>00097 
<a name="l00098"></a>00098 <span class="keyword">static</span> <span class="keyword">inline</span> uint32_t cpuid_get_signature( ) {
<a name="l00099"></a>00099   uint32_t sign;
<a name="l00100"></a>00100   <span class="keyword">asm</span> <span class="keyword">volatile</span> (<span class="stringliteral">&quot;cpuid&quot;</span> : <span class="stringliteral">&quot;=a&quot;</span>(sign) : <span class="stringliteral">&quot;a&quot;</span>(1) : <span class="stringliteral">&quot;ebx&quot;</span>,<span class="stringliteral">&quot;ecx&quot;</span>,<span class="stringliteral">&quot;edx&quot;</span>);
<a name="l00101"></a>00101   <span class="keywordflow">return</span> sign;
<a name="l00102"></a>00102 }
<a name="l00103"></a>00103 
<a name="l00104"></a>00104 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> udelay(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> n) {  
<a name="l00105"></a>00105     <span class="keywordflow">if</span> (!n)  
<a name="l00106"></a>00106         <span class="keywordflow">return</span>;  
<a name="l00107"></a>00107     <span class="keyword">asm</span>(<span class="stringliteral">&quot;1: dec %%eax; jne 1b;&quot;</span>  
<a name="l00108"></a>00108         : : <span class="stringliteral">&quot;a&quot;</span> (n * 1000));  
<a name="l00109"></a>00109 }  
<a name="l00110"></a>00110   
<a name="l00111"></a>00111 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> mdelay(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> n) {  
<a name="l00112"></a>00112     <span class="keywordflow">while</span> (--n)  
<a name="l00113"></a>00113         udelay(1000);  
<a name="l00114"></a>00114 }
<a name="l00115"></a>00115 
<a name="l00116"></a>00116 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> outb(uint16_t port, uint8_t value) {
<a name="l00117"></a>00117   <span class="keyword">asm</span> <span class="keyword">volatile</span> ( <span class="stringliteral">&quot;outb %0, %1&quot;</span> : : <span class="stringliteral">&quot;a&quot;</span>(value), <span class="stringliteral">&quot;Nd&quot;</span> (port));
<a name="l00118"></a>00118 }
<a name="l00119"></a>00119 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> outw(uint16_t port, uint16_t value) {
<a name="l00120"></a>00120   <span class="keyword">asm</span> <span class="keyword">volatile</span> ( <span class="stringliteral">&quot;outw %0, %w1&quot;</span> :  : <span class="stringliteral">&quot;a&quot;</span> (value), <span class="stringliteral">&quot;Nd&quot;</span> (port));
<a name="l00121"></a>00121 }
<a name="l00122"></a>00122 
<a name="l00123"></a>00123 <span class="keyword">static</span> <span class="keyword">inline</span> uint8_t inb(uint16_t port) {
<a name="l00124"></a>00124   uint8_t ret;
<a name="l00125"></a>00125   <span class="keyword">asm</span> <span class="keyword">volatile</span> ( <span class="stringliteral">&quot;inb %1, %0&quot;</span> : <span class="stringliteral">&quot;=a&quot;</span> (ret) : <span class="stringliteral">&quot;Nd&quot;</span> (port));
<a name="l00126"></a>00126   <span class="keywordflow">return</span> ret;
<a name="l00127"></a>00127 }
<a name="l00128"></a>00128 <span class="keyword">static</span> <span class="keyword">inline</span> uint16_t inw(uint16_t port) {
<a name="l00129"></a>00129   uint16_t ret;
<a name="l00130"></a>00130   <span class="keyword">asm</span> <span class="keyword">volatile</span> ( <span class="stringliteral">&quot;inw %w1, %0&quot;</span> : <span class="stringliteral">&quot;=a&quot;</span> (ret) : <span class="stringliteral">&quot;Nd&quot;</span> (port));
<a name="l00131"></a>00131   <span class="keywordflow">return</span> ret;
<a name="l00132"></a>00132 }
<a name="l00133"></a>00133 
<a name="l00134"></a>00134 <span class="preprocessor">#endif</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="util_8h.html">util.h</a>      </li>

    <li class="footer">Generated on Fri Feb 7 2014 11:19:37 for VOS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
